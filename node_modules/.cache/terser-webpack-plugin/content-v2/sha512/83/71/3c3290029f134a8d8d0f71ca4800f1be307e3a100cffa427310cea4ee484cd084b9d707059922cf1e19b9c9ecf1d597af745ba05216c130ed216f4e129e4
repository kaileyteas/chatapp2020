{"map":"{\"version\":3,\"sources\":[\"static/js/main.4dd0448a.chunk.js\"],\"names\":[\"this\",\"push\",\"32\",\"module\",\"exports\",\"__webpack_require__\",\"37\",\"39\",\"47\",\"__webpack_exports__\",\"r\",\"store\",\"react\",\"react_default\",\"n\",\"react_dom\",\"react_dom_default\",\"regenerator\",\"regenerator_default\",\"slicedToArray\",\"objectSpread2\",\"toConsumableArray\",\"index_cjs\",\"coll\",\"useDB\",\"room\",\"_useState\",\"Object\",\"_useState2\",\"messages\",\"setMessages\",\"collection\",\"where\",\"onSnapshot\",\"snap\",\"docChanges\",\"forEach\",\"c\",\"m\",\"id\",\"doc\",\"type\",\"data\",\"current\",\"msgs\",\"concat\",\"sort\",\"a\",\"b\",\"ts\",\"seconds\",\"filter\",\"db\",\"send\",\"msg\",\"add\",\"delete\",\"apiKey\",\"authDomain\",\"databaseURL\",\"projectId\",\"storageBucket\",\"messagingSenderId\",\"appId\",\"fi_index_esm\",\"namePicker\",\"props\",\"name\",\"setName\",\"_useState3\",\"_useState4\",\"showName\",\"setShowName\",\"inputEl\",\"save\",\"focus\",\"onSave\",\"localStorage\",\"setItem\",\"getItem\",\"createElement\",\"className\",\"value\",\"ref\",\"style\",\"display\",\"onChange\",\"e\",\"target\",\"onKeyPress\",\"key\",\"onClick\",\"react_router_dom\",\"react_router\",\"react_snap_pic\",\"react_snap_pic_default\",\"Room\",\"match\",\"params\",\"showCamera\",\"setShowCamera\",\"takePicture\",\"img\",\"imgID\",\"storageRef\",\"async\",\"_context\",\"prev\",\"next\",\"Math\",\"random\",\"toString\",\"substring\",\"child\",\"awrap\",\"putString\",\"Date\",\"stop\",\"src\",\"map\",\"i\",\"Message\",\"TextInput\",\"onSend\",\"text\",\"_ref\",\"from\",\"console\",\"log\",\"alt\",\"_useState5\",\"_useState6\",\"setText\",\"left\",\"right\",\"height\",\"width\",\"placeholder\",\"disabled\",\"src_App\",\"window\",\"location\",\"pathname\",\"length\",\"path\",\"component\",\"Boolean\",\"hostname\",\"render\",\"document\",\"getElementById\",\"navigator\",\"serviceWorker\",\"ready\",\"then\",\"registration\",\"unregister\"],\"mappings\":\"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\"}","code":"(this.webpackJsonpchatapp=this.webpackJsonpchatapp||[]).push([[0],{32:function(e,t,a){e.exports=a(47)},37:function(e,t,a){},39:function(e,t,a){},47:function(e,t,a){\"use strict\";a.r(t);var n,c=a(0),o=a.n(c),r=a(25),s=a.n(r),i=(a(37),a(17)),m=a.n(i),l=a(6),u=(a(39),a(31)),d=a(30),f=a(11),p=(a(22),a(24),\"messages\");function h(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),o=a[0],r=a[1];return Object(c.useEffect)((function(){n.collection(p).where(\"room\",\"==\",e).onSnapshot((function(e){return e.docChanges().forEach((function(e){var t,a,n=e.doc,c=e.type;\"added\"===c&&(t=Object(u.a)({},n.data(),{id:n.id}),r((function(e){var a=[t].concat(Object(d.a)(e));return a.sort((function(e,t){return t.ts.seconds-e.ts.seconds})),a}))),\"removed\"===c&&(a=n.id,r((function(e){return e.filter((function(e){return e.id!==a}))})))}))}))}),[]),o}var g={send:function(e){return n.collection(p).add(e)},delete:function(e){return n.collection(p).doc(e).delete()}};f.initializeApp({apiKey:\"AIzaSyC37_Lo0EODqLfGtxg7v1FDHbgHUSBa0no\",authDomain:\"chatroom-e34eb.firebaseapp.com\",databaseURL:\"https://chatroom-e34eb.firebaseio.com\",projectId:\"chatroom-e34eb\",storageBucket:\"chatroom-e34eb.appspot.com\",messagingSenderId:\"86918280767\",appId:\"1:86918280767:web:8cd5ba999c6a251e76aa8a\"}),n=f.firestore();var b=a(12);var v=function(e){var t=Object(c.useState)(\"\"),a=Object(l.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),i=Object(l.a)(s,2),m=i[0],u=i[1],d=Object(c.useRef)(null);function f(){d.current.focus(),n&&!m&&(e.onSave(n),localStorage.setItem(\"name\",n)),u(!m)}return Object(c.useEffect)((function(){var e=localStorage.getItem(\"name\");e&&(r(e),f())}),[]),o.a.createElement(\"div\",{className:\"edit-username\"},o.a.createElement(\"input\",{value:n,ref:d,className:\"name-input\",style:{display:m?\"none\":\"flex\"},onChange:function(e){return r(e.target.value)},onKeyPress:function(e){\"Enter\"===e.key&&f()}}),m&&o.a.createElement(\"div\",{className:\"username\"},n),o.a.createElement(\"button\",{onClick:f,className:\"name-button\"},m?o.a.createElement(b.b,null):o.a.createElement(b.c,null)))},E=a(27),w=a(7),j=a(26),O=a.n(j);function S(e){var t=e.match.params.room,a=Object(c.useState)(\"\"),n=Object(l.a)(a,2),r=n[0],s=n[1],i=Object(c.useState)(!1),u=Object(l.a)(i,2),d=u[0],p=u[1],b=h(t);return o.a.createElement(\"main\",null,d&&o.a.createElement(O.a,{takePicture:function(e){var a,n,c;return m.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return p(!1),a=Math.random().toString(36).substring(7),n=f.storage().ref(),c=n.child(a+\".jpg\"),o.next=6,m.a.awrap(c.putString(e,\"data_url\"));case 6:g.send({img:a,name:r,ts:new Date,room:t});case 7:case\"end\":return o.stop()}}))}}),o.a.createElement(\"header\",{className:\"header\"},o.a.createElement(\"div\",{className:\"logo-wrap\"},o.a.createElement(\"img\",{src:\"http://assets.stickpng.com/thumbs/580b57fcd9996e24bc43c541.png\",className:\"logo\"})),\"Fresh memes\",o.a.createElement(v,{onSave:s})),o.a.createElement(\"div\",{className:\"messages\"},b.map((function(e,t){return o.a.createElement(y,{key:t,m:e,name:r})}))),o.a.createElement(N,{showCamera:function(){return p(!0)},onSend:function(e){g.send({text:e,name:r,ts:new Date,room:t})}}))}function y(e){var t=e.m,a=e.name;return o.a.createElement(\"div\",{className:\"message-wrap\",from:t.name===a?\"me\":\"you\",onClick:function(){return console.log(t)}},o.a.createElement(\"div\",{className:\"message\"},o.a.createElement(\"div\",{className:\"msg-name\"},t.name),o.a.createElement(\"div\",{className:\"msg-text\"},t.text,t.img&&o.a.createElement(\"img\",{src:\"https://firebasestorage.googleapis.com/v0/b/chatroom-e34eb.appspot.com/o/\"+t.img+\".jpg?alt=media\",alt:\"pic\"}))))}function N(e){var t=Object(c.useState)(\"\"),a=Object(l.a)(t,2),n=a[0],r=a[1];return o.a.createElement(\"div\",{className:\"text-input-wrap\"},o.a.createElement(\"button\",{onClick:e.showCamera,style:{left:10,right:\"auto\"}},o.a.createElement(b.a,{style:{height:15,width:15}})),o.a.createElement(\"input\",{value:n,className:\"text-input\",placeholder:\"Enter text\",onChange:function(e){return r(e.target.value)},onKeyPress:function(t){\"Enter\"===t.key&&(n&&e.onSend(n),r(\"\"))}}),o.a.createElement(\"button\",{onClick:function(){e.onSend(n),r(\"\")},className:\"button\",disabled:!n},\"\\u2191\"))}var k=function(){return Object(c.useEffect)((function(){window.location.pathname.length<2&&(window.location.pathname=\"home\")}),[]),o.a.createElement(E.a,null,o.a.createElement(w.a,{path:\"/:room\",component:S}))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(k,null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[32,1,2]]]);","extractedComments":[]}